<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Marinaphoto 4 you</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  background: #0b0d10;
  color: #ffffff;
  line-height: 1.6;
}

.bg {
  position: fixed;
  inset: 0;
  z-index: -1;
  background: 
    radial-gradient(980px 520px at 18% 18%, rgba(255,255,255,.11), transparent 62%),
    radial-gradient(860px 520px at 85% 28%, rgba(255,255,255,.085), transparent 65%),
    linear-gradient(180deg, #0b0d10 0%, #090a0d 100%);
}

.container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 20px;
}

.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  max-width: 1000px;
  padding: 15px;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 15px;
}

.brand {
  font-size: 18px;
  font-weight: 900;
  color: #ffffff;
}

.brand small {
  font-weight: 700;
  color: rgba(255,255,255,0.6);
  margin-left: 8px;
}

.lang-buttons {
  display: flex;
  gap: 8px;
  background: rgba(255,255,255,0.05);
  padding: 4px;
  border-radius: 20px;
  border: 1px solid rgba(255,255,255,0.15);
}

.lang-buttons button {
  background: transparent;
  border: none;
  color: rgba(255,255,255,0.6);
  padding: 8px 16px;
  border-radius: 16px;
  cursor: pointer;
  font-weight: 800;
  font-size: 13px;
  transition: all 0.2s;
}

.lang-buttons button:hover {
  color: #ffffff;
}

.lang-buttons button.active {
  background: #ffffff;
  color: #000000;
}

.card {
  width: 100%;
  max-width: 800px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 24px;
  padding: 40px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}

.progress-bar {
  width: 100%;
  height: 8px;
  background: rgba(255,255,255,0.1);
  border-radius: 10px;
  margin-bottom: 20px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: #ffffff;
  border-radius: 10px;
  width: 0%;
  transition: width 0.3s;
}

.step-label {
  text-align: center;
  color: rgba(255,255,255,0.6);
  font-size: 13px;
  margin-bottom: 30px;
  font-weight: 600;
}

.kicker {
  font-size: 11px;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.5);
  font-weight: 700;
  margin-bottom: 12px;
}

h1 {
  font-size: 36px;
  font-weight: 900;
  color: #ffffff;
  margin-bottom: 16px;
  line-height: 1.2;
}

h2 {
  font-size: 22px;
  font-weight: 800;
  color: #ffffff;
  margin-bottom: 12px;
}

p {
  font-size: 16px;
  color: rgba(255,255,255,0.85);
  margin-bottom: 12px;
}

.lead {
  font-size: 17px;
  color: rgba(255,255,255,0.75);
  margin-bottom: 20px;
}

.hint {
  font-size: 13px;
  color: rgba(255,255,255,0.5);
  margin-top: 16px;
}

input[type="text"],
textarea {
  width: 100%;
  padding: 14px 16px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 16px;
  color: #ffffff;
  font-size: 16px;
  font-family: inherit;
  margin-top: 12px;
  outline: none;
}

input[type="text"]:focus,
textarea:focus {
  background: rgba(255,255,255,0.12);
  border-color: rgba(255,255,255,0.4);
}

input[type="text"]::placeholder,
textarea::placeholder {
  color: rgba(255,255,255,0.4);
}

textarea {
  min-height: 100px;
  resize: vertical;
}

.options {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 20px 0;
}

.option {
  padding: 18px;
  background: rgba(255,255,255,0.06);
  border: 2px solid rgba(255,255,255,0.15);
  border-radius: 18px;
  cursor: pointer;
  transition: all 0.2s;
}

.option:hover {
  background: rgba(255,255,255,0.1);
  border-color: rgba(255,255,255,0.25);
}

.option.selected {
  background: rgba(255,255,255,0.15);
  border-color: rgba(255,255,255,0.4);
}

.option-title {
  font-size: 16px;
  font-weight: 800;
  color: #ffffff;
  margin-bottom: 6px;
}

.option-desc {
  font-size: 13px;
  color: rgba(255,255,255,0.65);
}

.buttons {
  display: flex;
  gap: 12px;
  margin-top: 30px;
  flex-wrap: wrap;
}

button {
  padding: 14px 28px;
  border-radius: 30px;
  border: none;
  font-size: 16px;
  font-weight: 800;
  cursor: pointer;
  font-family: inherit;
  transition: all 0.2s;
}

button.primary {
  background: #ffffff;
  color: #000000;
}

button.primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 20px rgba(255,255,255,0.2);
}

button.secondary {
  background: transparent;
  color: rgba(255,255,255,0.8);
  border: 2px solid rgba(255,255,255,0.25);
}

button.secondary:hover {
  background: rgba(255,255,255,0.1);
  border-color: rgba(255,255,255,0.4);
}

.slider-container {
  margin: 20px 0;
  padding: 20px;
  background: rgba(255,255,255,0.06);
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.15);
}

.slider-label {
  display: flex;
  justify-content: space-between;
  margin-bottom: 12px;
  font-size: 14px;
  font-weight: 600;
  color: rgba(255,255,255,0.75);
}

input[type="range"] {
  width: 100%;
  height: 8px;
  -webkit-appearance: none;
  appearance: none;
  background: rgba(255,255,255,0.15);
  border-radius: 10px;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 22px;
  height: 22px;
  background: #ffffff;
  border-radius: 50%;
  cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
  width: 22px;
  height: 22px;
  background: #ffffff;
  border-radius: 50%;
  cursor: pointer;
  border: none;
}

.slider-hints {
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
  font-size: 12px;
  color: rgba(255,255,255,0.5);
}

.fade-in {
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(15px); }
  to { opacity: 1; transform: translateY(0); }
}

.report-section {
  margin: 24px 0;
  padding: 24px;
  background: rgba(255,255,255,0.06);
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.15);
  line-height: 1.8;
}

.report-section h2 {
  font-size: 20px;
  margin-bottom: 16px;
  color: #ffffff;
}

.report-section h3 {
  font-size: 17px;
  margin-top: 20px;
  margin-bottom: 12px;
  color: rgba(255,255,255,0.95);
  font-weight: 700;
}

.report-section p {
  margin-bottom: 14px;
  color: rgba(255,255,255,0.85);
}

.report-section strong {
  color: rgba(255,255,255,0.95);
  font-weight: 700;
}

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin: 20px 0;
}

.tag {
  padding: 8px 16px;
  background: rgba(255,255,255,0.1);
  border: 1px solid rgba(255,255,255,0.2);
  border-radius: 20px;
  font-size: 14px;
  font-weight: 600;
  color: #ffffff;
}

@media (max-width: 768px) {
  .card { padding: 24px; }
  h1 { font-size: 28px; }
  .topbar { justify-content: center; }
}
</style>
</head>
<body>

<div class="bg"></div>

<div class="container">
  <div class="topbar">
    <div class="brand">
      Marinaphoto 4 you
      <small>‚Äî</small>
    </div>
    <div class="lang-buttons">
      <button onclick="setLang('en')" id="btn-en">EN</button>
      <button onclick="setLang('fr')" id="btn-fr" class="active">FR</button>
      <button onclick="setLang('es')" id="btn-es">ES</button>
    </div>
  </div>

  <div class="card">
    <div class="progress-bar">
      <div class="progress-fill" id="progress"></div>
    </div>
    <div class="step-label" id="step-label">‚Äî</div>
    <div id="content" class="fade-in">
      <!-- Content wird hier eingef√ºgt -->
    </div>
  </div>
</div>

<script>
// Globale Variablen
let currentStep = 0;
let currentLang = 'fr';
let state = {
  name: '',
  project: '',
  core: null,
  intent: [],
  time: null,
  where: [],
  avoid: '',
  sliders: { calm: 50, present: 50, rich: 50 }
};

// Translations
const translations = {
  fr: {
    toolName: 'Marinaphoto 4 you',
    toolTagline: '¬´ Je sais ce qu\'une image signifie pour vous. ¬ª',
    steps: ['Intro', 'Vous', 'Projet', 'Essence', 'Intention', 'Usage', 'Canaux', 'Ambiance', 'D√©tails', 'Rapport'],
    intro: {
      kicker: 'Un brief photo (pas un brief de marque)',
      title: '3 minutes. Z√©ro jargon. Un rapport clair.',
      text: 'Vous r√©pondez √† l\'instinct. Je transforme vos r√©ponses en un snapshot lisible : ce qu\'il faut raconter, o√π √ßa va vivre, et comment le rendre juste.',
      button: 'Commencer'
    },
    name: {
      kicker: 'Vous & le projet',
      title: 'Quel est votre pr√©nom ?',
      text: 'Pr√©nom ou pseudo ‚Äî comme vous pr√©f√©rez.',
      placeholder: 'Ex : Alex',
      button: 'Continuer'
    },
    project: {
      kicker: 'Vous & le projet',
      title: 'Nom du projet',
      text: 'M√™me provisoire. √áa m\'aide √† personnaliser le rapport.',
      placeholder: 'Ex : Clinica Vinyet / Opening...',
      button: 'Continuer'
    },
    core: {
      kicker: 'Essence',
      title: 'En une phrase, votre projet, c\'est plut√¥t‚Ä¶',
      text: 'Choisissez l\'option la plus √©vidente.',
      options: [
        { id: 'place', title: 'üè† Un lieu', desc: 'Faire ressentir : lumi√®re, mati√®re, atmosph√®re.' },
        { id: 'story', title: 'üìñ Une histoire', desc: 'Des gens, des gestes, une narration.' },
        { id: 'moment', title: '‚è≥ Un moment', desc: 'Aller √† l\'essentiel, sans surjouer.' }
      ],
      button: 'Continuer'
    },
    intent: {
      kicker: 'Essence',
      title: 'Quand quelqu\'un voit ces images, vous voulez qu\'il se dise‚Ä¶',
      text: 'Choisissez 1 ou 2.',
      options: [
        { id: 'notAI', title: '¬´ Ce ne sont pas des images IA. ¬ª', desc: 'On sent du vrai : pr√©sence, mati√®re, lumi√®re.' },
        { id: 'brand', title: '¬´ √áa refl√®te parfaitement ma marque. ¬ª', desc: 'Coh√©rent, reconnaissable, align√©.' },
        { id: 'fresh', title: '¬´ C\'est un regard artistique, neuf. ¬ª', desc: 'Pas du d√©j√†-vu. Une vraie signature.' },
        { id: 'trust', title: '¬´ √áa me donne confiance. ¬ª', desc: 'Cr√©dible, humain, juste.' }
      ],
      button: 'Continuer',
      hint: 'Max 2 choix'
    },
    time: {
      kicker: 'Usage',
      title: 'Ces images doivent surtout servir‚Ä¶',
      text: '√áa aide √† doser le rythme et la quantit√©.',
      options: [
        { id: 'moment', title: 'üìÜ Un moment pr√©cis', desc: 'Lancement, campagne, √©v√©nement.' },
        { id: 'overtime', title: 'üîÅ Une base r√©utilisable', desc: 'Des visuels qui durent et se d√©clinent.' },
        { id: 'grow', title: 'üå± Une continuit√©', desc: 'S√©rie + suivi : √ßa √©volue dans le temps.' }
      ],
      button: 'Continuer'
    },
    where: {
      kicker: 'Usage',
      title: 'O√π ces images vont vivre le plus souvent ?',
      text: 'Max 2. L√† o√π vous allez vraiment les utiliser.',
      options: [
        { id: 'website', title: 'Site web', desc: 'Lecture pos√©e, cr√©dibilit√©.' },
        { id: 'social', title: 'R√©seaux', desc: 'Rythme, r√©p√©tition, s√©rie.' },
        { id: 'editorial', title: 'Presse / editorial', desc: 'Contexte, narration, d√©tails.' },
        { id: 'print', title: 'Print', desc: 'Impact, mati√®re, permanence.' }
      ],
      button: 'Continuer',
      hint: 'Max 2 choix'
    },
    vibe: {
      kicker: 'Ambiance',
      title: 'Comment je dois photographier ?',
      text: 'Ajustez les curseurs selon l\'ambiance souhait√©e. Cela guide mon approche sans changer ma signature visuelle.',
      sliders: [
        { 
          id: 'calm', 
          left: 'üòå Calme', 
          right: '‚ö° Vivant',
          leftDesc: 'Images pos√©es, contemplatives',
          rightDesc: '√ânergie, mouvement, dynamisme'
        },
        { 
          id: 'present', 
          left: 'üëÄ Discret', 
          right: 'ü§ç Proche',
          leftDesc: 'Observer de loin, contexte large',
          rightDesc: 'Intimit√©, d√©tails, proximit√©'
        },
        { 
          id: 'rich', 
          left: '‚úÇÔ∏è √âpur√©', 
          right: 'üß± Textur√©',
          leftDesc: 'Minimalisme, simplicit√©',
          rightDesc: 'Mati√®res, textures, richesse'
        }
      ],
      button: 'Continuer'
    },
    avoid: {
      kicker: 'D√©tails',
      title: 'Une chose √† √©viter absolument ?',
      text: 'M√™me un mot suffit.',
      placeholder: 'Ex : trop lisse / trop "pub" / trop sombre...',
      button: 'Voir le rapport'
    },
    report: {
      kicker: 'Rapport',
      title: 'Votre projet',
      text: 'Voil√† comment je comprends votre projet.',
      buttons: {
        restart: 'Recommencer',
        email: 'Envoyer √† Marina'
      }
    },
    back: 'Retour',
    pickOne: 'Choisissez une option üôÇ'
  },
  en: {
    toolName: 'Marinaphoto 4 you',
    toolTagline: '"I know what an image means to you."',
    steps: ['Intro', 'You', 'Project', 'Essence', 'Intent', 'Use', 'Channels', 'Vibe', 'Details', 'Report'],
    intro: {
      kicker: 'A photo brief (not a brand deck)',
      title: '3 minutes. No jargon. A clear report.',
      text: 'Answer by instinct. I turn it into a readable snapshot: what to say, where it will live, and how to make it feel true.',
      button: 'Start'
    },
    name: {
      kicker: 'You & project',
      title: 'What\'s your first name?',
      text: 'First name or nickname ‚Äî your choice.',
      placeholder: 'e.g. Alex',
      button: 'Continue'
    },
    project: {
      kicker: 'You & project',
      title: 'Project name',
      text: 'Even temporary. Helps personalize the report.',
      placeholder: 'e.g. Clinica Vinyet / Opening...',
      button: 'Continue'
    },
    core: {
      kicker: 'Essence',
      title: 'In one sentence, your project is mostly‚Ä¶',
      text: 'Pick the most obvious option.',
      options: [
        { id: 'place', title: 'üè† A place', desc: 'Make people feel it: light, texture, atmosphere.' },
        { id: 'story', title: 'üìñ A story', desc: 'People, gestures, a narrative thread.' },
        { id: 'moment', title: '‚è≥ A moment', desc: 'Keep what matters, no overacting.' }
      ],
      button: 'Continue'
    },
    intent: {
      kicker: 'Essence',
      title: 'When people see these images, you want them to think‚Ä¶',
      text: 'Pick 1 or 2.',
      options: [
        { id: 'notAI', title: '"These are not AI images."', desc: 'It feels real: presence, texture, light.' },
        { id: 'brand', title: '"This perfectly matches my brand."', desc: 'Consistent, recognizable, aligned.' },
        { id: 'fresh', title: '"It\'s a fresh artistic eye."', desc: 'Not generic. A real signature.' },
        { id: 'trust', title: '"This makes me trust you."', desc: 'Credible, human, true.' }
      ],
      button: 'Continue',
      hint: 'Max 2'
    },
    time: {
      kicker: 'Use',
      title: 'These images should mainly serve‚Ä¶',
      text: 'Helps set tempo and scope.',
      options: [
        { id: 'moment', title: 'üìÜ A specific moment', desc: 'Launch, campaign, event.' },
        { id: 'overtime', title: 'üîÅ A reusable base', desc: 'Visuals that last and can be reused.' },
        { id: 'grow', title: 'üå± Continuity', desc: 'Series + follow-up over time.' }
      ],
      button: 'Continue'
    },
    where: {
      kicker: 'Use',
      title: 'Where will these images live most often?',
      text: 'Max 2. Where you\'ll really use them.',
      options: [
        { id: 'website', title: 'Website', desc: 'Calm reading, credibility.' },
        { id: 'social', title: 'Social', desc: 'Rhythm, repetition, series.' },
        { id: 'editorial', title: 'Editorial / press', desc: 'Context, narrative, detail.' },
        { id: 'print', title: 'Print', desc: 'Impact, materiality, permanence.' }
      ],
      button: 'Continue',
      hint: 'Max 2'
    },
    vibe: {
      kicker: 'Vibe',
      title: 'How should I photograph?',
      text: 'Adjust the sliders to match your desired vibe. This guides my approach without changing my visual signature.',
      sliders: [
        { 
          id: 'calm', 
          left: 'üòå Calm', 
          right: '‚ö° Lively',
          leftDesc: 'Still, contemplative images',
          rightDesc: 'Energy, movement, dynamism'
        },
        { 
          id: 'present', 
          left: 'üëÄ Discreet', 
          right: 'ü§ç Close',
          leftDesc: 'Observe from distance, wide context',
          rightDesc: 'Intimacy, details, closeness'
        },
        { 
          id: 'rich', 
          left: '‚úÇÔ∏è Minimal', 
          right: 'üß± Textured',
          leftDesc: 'Minimalism, simplicity',
          rightDesc: 'Materials, textures, richness'
        }
      ],
      button: 'Continue'
    },
    avoid: {
      kicker: 'Details',
      title: 'One thing to avoid at all costs?',
      text: 'Even one word is enough.',
      placeholder: 'e.g. too polished / too "ad" / too dark...',
      button: 'See report'
    },
    report: {
      kicker: 'Report',
      title: 'Your project',
      text: 'Here\'s how I read your project.',
      buttons: {
        restart: 'Restart',
        email: 'Send to Marina'
      }
    },
    back: 'Back',
    pickOne: 'Pick one üôÇ'
  },
  es: {
    toolName: 'Marinaphoto 4 you',
    toolTagline: '¬´ S√© lo que una imagen significa para usted. ¬ª',
    steps: ['Intro', 'Usted', 'Proyecto', 'Esencia', 'Intenci√≥n', 'Uso', 'Canales', 'Vibra', 'Detalles', 'Informe'],
    intro: {
      kicker: 'Un brief de foto (no un dossier de marca)',
      title: '3 minutos. Sin jerga. Un informe claro.',
      text: 'Usted responde por instinto. Yo lo convierto en un snapshot legible: qu√© contar, d√≥nde vivir√°, y c√≥mo hacerlo verdadero.',
      button: 'Empezar'
    },
    name: {
      kicker: 'Usted & proyecto',
      title: '¬øCu√°l es su nombre?',
      text: 'Nombre o apodo ‚Äî como prefiera.',
      placeholder: 'p.ej. Alex',
      button: 'Continuar'
    },
    project: {
      kicker: 'Usted & proyecto',
      title: 'Nombre del proyecto',
      text: 'Aunque sea provisional. Me ayuda a personalizar el informe.',
      placeholder: 'p.ej. Clinica Vinyet / Opening...',
      button: 'Continuar'
    },
    core: {
      kicker: 'Esencia',
      title: 'En una frase, su proyecto es sobre todo‚Ä¶',
      text: 'Elija la opci√≥n m√°s evidente.',
      options: [
        { id: 'place', title: 'üè† Un lugar', desc: 'Sentir: luz, textura, atm√≥sfera.' },
        { id: 'story', title: 'üìñ Una historia', desc: 'Personas, gestos, un hilo narrativo.' },
        { id: 'moment', title: '‚è≥ Un momento', desc: 'Lo esencial, sin exagerar.' }
      ],
      button: 'Continuar'
    },
    intent: {
      kicker: 'Esencia',
      title: 'Cuando alguien vea estas im√°genes, usted quiere que piense‚Ä¶',
      text: 'Elija 1 o 2.',
      options: [
        { id: 'notAI', title: '¬´ No son im√°genes IA. ¬ª', desc: 'Se siente lo real: presencia, materia, luz.' },
        { id: 'brand', title: '¬´ Refleja perfectamente mi marca. ¬ª', desc: 'Coherente, reconocible, alineado.' },
        { id: 'fresh', title: '¬´ Es una mirada art√≠stica, nueva. ¬ª', desc: 'No gen√©rico. Una firma real.' },
        { id: 'trust', title: '¬´ Me da confianza. ¬ª', desc: 'Cre√≠ble, humano, verdadero.' }
      ],
      button: 'Continuar',
      hint: 'M√°x 2'
    },
    time: {
      kicker: 'Uso',
      title: 'Estas im√°genes deben servir sobre todo para‚Ä¶',
      text: 'Ayuda a definir ritmo y alcance.',
      options: [
        { id: 'moment', title: 'üìÜ Un momento concreto', desc: 'Lanzamiento, campa√±a, evento.' },
        { id: 'overtime', title: 'üîÅ Una base reutilizable', desc: 'Visuales que duran y se reutilizan.' },
        { id: 'grow', title: 'üå± Continuidad', desc: 'Serie + seguimiento con el tiempo.' }
      ],
      button: 'Continuar'
    },
    where: {
      kicker: 'Uso',
      title: '¬øD√≥nde vivir√°n estas im√°genes la mayor parte del tiempo?',
      text: 'M√°x 2. Donde realmente las usar√°.',
      options: [
        { id: 'website', title: 'Web', desc: 'Lectura calmada, credibilidad.' },
        { id: 'social', title: 'Redes', desc: 'Ritmo, repetici√≥n, serie.' },
        { id: 'editorial', title: 'Editorial / prensa', desc: 'Contexto, relato, detalle.' },
        { id: 'print', title: 'Print', desc: 'Impacto, materia, permanencia.' }
      ],
      button: 'Continuar',
      hint: 'M√°x 2'
    },
    vibe: {
      kicker: 'Vibra',
      title: '¬øC√≥mo debo fotografiar?',
      text: 'Ajuste los cursores seg√∫n la vibra deseada. Esto gu√≠a mi enfoque sin cambiar mi firma visual.',
      sliders: [
        { 
          id: 'calm', 
          left: 'üòå Calmo', 
          right: '‚ö° Vivo',
          leftDesc: 'Im√°genes serenas, contemplativas',
          rightDesc: 'Energ√≠a, movimiento, dinamismo'
        },
        { 
          id: 'present', 
          left: 'üëÄ Discreto', 
          right: 'ü§ç Cercano',
          leftDesc: 'Observar desde lejos, contexto amplio',
          rightDesc: 'Intimidad, detalles, cercan√≠a'
        },
        { 
          id: 'rich', 
          left: '‚úÇÔ∏è Limpio', 
          right: 'üß± Texturado',
          leftDesc: 'Minimalismo, simplicidad',
          rightDesc: 'Materiales, texturas, riqueza'
        }
      ],
      button: 'Continuar'
    },
    avoid: {
      kicker: 'Detalles',
      title: '¬øUna cosa a evitar s√≠ o s√≠?',
      text: 'Incluso una palabra basta.',
      placeholder: 'p.ej. demasiado pulido / "anuncio" / oscuro...',
      button: 'Ver informe'
    },
    report: {
      kicker: 'Informe',
      title: 'Su proyecto',
      text: 'As√≠ entiendo su proyecto.',
      buttons: {
        restart: 'Reiniciar',
        email: 'Enviar a Marina'
      }
    },
    back: 'Atr√°s',
    pickOne: 'Elija una üôÇ'
  }
};

// Helper functions
function t(key) {
  const keys = key.split('.');
  let result = translations[currentLang];
  for (let k of keys) {
    result = result[k];
  }
  return result;
}

function setLang(lang) {
  currentLang = lang;
  document.getElementById('btn-en').classList.remove('active');
  document.getElementById('btn-fr').classList.remove('active');
  document.getElementById('btn-es').classList.remove('active');
  document.getElementById('btn-' + lang).classList.add('active');
  render();
}

function updateProgress() {
  const progress = ((currentStep + 1) / 10) * 100;
  document.getElementById('progress').style.width = progress + '%';
  document.getElementById('step-label').textContent = 
    (currentStep + 1) + '/10 ¬∑ ' + t('steps')[currentStep];
}

function nextStep() {
  if (currentStep < 9) {
    currentStep++;
    render();
  }
}

function prevStep() {
  if (currentStep > 0) {
    currentStep--;
    render();
  }
}

function toggleOption(id, multi = false) {
  if (multi) {
    const idx = state.intent.indexOf(id);
    if (idx > -1) {
      state.intent.splice(idx, 1);
    } else {
      if (state.intent.length < 2) {
        state.intent.push(id);
      } else {
        alert(t('intent.hint'));
        return;
      }
    }
  } else {
    state.core = id;
  }
  render();
}

function toggleWhere(id) {
  const idx = state.where.indexOf(id);
  if (idx > -1) {
    state.where.splice(idx, 1);
  } else {
    if (state.where.length < 2) {
      state.where.push(id);
    } else {
      alert(t('where.hint'));
      return;
    }
  }
  render();
}

function render() {
  updateProgress();
  const content = document.getElementById('content');
  content.classList.remove('fade-in');
  
  setTimeout(() => {
    let html = '';
    
    switch(currentStep) {
      case 0: // Intro
        html = `
          <div class="kicker">${t('intro.kicker')}</div>
          <h1>${t('intro.title')}</h1>
          <p class="lead">${t('intro.text')}</p>
          <div class="buttons">
            <button class="primary" onclick="nextStep()">${t('intro.button')}</button>
          </div>
        `;
        break;
        
      case 1: // Name
        html = `
          <div class="kicker">${t('name.kicker')}</div>
          <h1>${t('name.title')}</h1>
          <p class="lead">${t('name.text')}</p>
          <input type="text" id="name-input" value="${state.name}" placeholder="${t('name.placeholder')}">
          <div class="buttons">
            <button class="primary" onclick="state.name = document.getElementById('name-input').value; nextStep();">${t('name.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 2: // Project
        html = `
          <div class="kicker">${t('project.kicker')}</div>
          <h1>${t('project.title')}</h1>
          <p class="lead">${t('project.text')}</p>
          <input type="text" id="project-input" value="${state.project}" placeholder="${t('project.placeholder')}">
          <div class="buttons">
            <button class="primary" onclick="state.project = document.getElementById('project-input').value; nextStep();">${t('project.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 3: // Core
        html = `
          <div class="kicker">${t('core.kicker')}</div>
          <h1>${t('core.title')}</h1>
          <p class="lead">${t('core.text')}</p>
          <div class="options">
            ${t('core.options').map(opt => `
              <div class="option ${state.core === opt.id ? 'selected' : ''}" onclick="state.core = '${opt.id}'; render();">
                <div class="option-title">${opt.title}</div>
                <div class="option-desc">${opt.desc}</div>
              </div>
            `).join('')}
          </div>
          <div class="buttons">
            <button class="primary" onclick="if(!state.core) { alert(t('pickOne')); return; } nextStep();">${t('core.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 4: // Intent
        html = `
          <div class="kicker">${t('intent.kicker')}</div>
          <h1>${t('intent.title')}</h1>
          <p class="lead">${t('intent.text')}</p>
          <div class="options">
            ${t('intent.options').map(opt => `
              <div class="option ${state.intent.includes(opt.id) ? 'selected' : ''}" onclick="toggleOption('${opt.id}', true)">
                <div class="option-title">${opt.title}</div>
                <div class="option-desc">${opt.desc}</div>
              </div>
            `).join('')}
          </div>
          <p class="hint">${t('intent.hint')}</p>
          <div class="buttons">
            <button class="primary" onclick="if(state.intent.length === 0) { alert(t('pickOne')); return; } nextStep();">${t('intent.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 5: // Time
        html = `
          <div class="kicker">${t('time.kicker')}</div>
          <h1>${t('time.title')}</h1>
          <p class="lead">${t('time.text')}</p>
          <div class="options">
            ${t('time.options').map(opt => `
              <div class="option ${state.time === opt.id ? 'selected' : ''}" onclick="state.time = '${opt.id}'; render();">
                <div class="option-title">${opt.title}</div>
                <div class="option-desc">${opt.desc}</div>
              </div>
            `).join('')}
          </div>
          <div class="buttons">
            <button class="primary" onclick="if(!state.time) { alert(t('pickOne')); return; } nextStep();">${t('time.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 6: // Where
        html = `
          <div class="kicker">${t('where.kicker')}</div>
          <h1>${t('where.title')}</h1>
          <p class="lead">${t('where.text')}</p>
          <div class="options">
            ${t('where.options').map(opt => `
              <div class="option ${state.where.includes(opt.id) ? 'selected' : ''}" onclick="toggleWhere('${opt.id}')">
                <div class="option-title">${opt.title}</div>
                <div class="option-desc">${opt.desc}</div>
              </div>
            `).join('')}
          </div>
          <p class="hint">${t('where.hint')}</p>
          <div class="buttons">
            <button class="primary" onclick="if(state.where.length === 0) { alert(t('pickOne')); return; } nextStep();">${t('where.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 7: // Vibe
        html = `
          <div class="kicker">${t('vibe.kicker')}</div>
          <h1>${t('vibe.title')}</h1>
          <p class="lead">${t('vibe.text')}</p>
          ${t('vibe.sliders').map(slider => `
            <div class="slider-container">
              <div class="slider-label">
                <span>${slider.left}</span>
                <span>${slider.right}</span>
              </div>
              <input type="range" min="0" max="100" value="${state.sliders[slider.id]}" 
                oninput="state.sliders.${slider.id} = this.value">
              <div class="slider-hints">
                <span>${slider.leftDesc}</span>
                <span>${slider.rightDesc}</span>
              </div>
            </div>
          `).join('')}
          <div class="buttons">
            <button class="primary" onclick="nextStep()">${t('vibe.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 8: // Avoid
        html = `
          <div class="kicker">${t('avoid.kicker')}</div>
          <h1>${t('avoid.title')}</h1>
          <p class="lead">${t('avoid.text')}</p>
          <textarea id="avoid-input" placeholder="${t('avoid.placeholder')}">${state.avoid}</textarea>
          <div class="buttons">
            <button class="primary" onclick="state.avoid = document.getElementById('avoid-input').value; nextStep();">${t('avoid.button')}</button>
            <button class="secondary" onclick="prevStep()">${t('back')}</button>
          </div>
        `;
        break;
        
      case 9: // Report
        // G√©n√©rer un rapport intelligent sans API
        const generateSmartReport = () => {
          // Interpr√©ter les donn√©es pour cr√©er un brief personnalis√©
          const projectName = state.project || (currentLang === 'fr' ? 'Votre projet' : currentLang === 'es' ? 'Su proyecto' : 'Your project');
          const clientName = state.name || (currentLang === 'fr' ? 'Client' : currentLang === 'es' ? 'Cliente' : 'Client');
          
          // Interpr√©ter le type de projet
          let projectTypeText = '';
          if (state.core === 'place') {
            projectTypeText = currentLang === 'fr' 
              ? 'Ce projet concerne la photographie d\'un lieu. L\'objectif est de faire ressentir l\'espace : sa lumi√®re naturelle, ses mati√®res, son atmosph√®re unique. Je vais capturer l\'essence du lieu pour que les spectateurs s\'y projettent.'
              : currentLang === 'es'
              ? 'Este proyecto trata sobre la fotograf√≠a de un lugar. El objetivo es hacer sentir el espacio: su luz natural, sus materias, su atm√≥sfera √∫nica. Voy a capturar la esencia del lugar para que los espectadores se proyecten en √©l.'
              : 'This project is about photographing a place. The goal is to make people feel the space: its natural light, materials, unique atmosphere. I\'ll capture the essence of the place so viewers can imagine themselves there.';
          } else if (state.core === 'story') {
            projectTypeText = currentLang === 'fr'
              ? 'Ce projet raconte une histoire √† travers les personnes et leurs gestes. Je vais cr√©er une narration visuelle qui suit un fil conducteur, en capturant les interactions authentiques et les moments significatifs.'
              : currentLang === 'es'
              ? 'Este proyecto cuenta una historia a trav√©s de las personas y sus gestos. Voy a crear una narraci√≥n visual que sigue un hilo conductor, capturando las interacciones aut√©nticas y los momentos significativos.'
              : 'This project tells a story through people and their gestures. I\'ll create a visual narrative with a through-line, capturing authentic interactions and meaningful moments.';
          } else if (state.core === 'moment') {
            projectTypeText = currentLang === 'fr'
              ? 'Ce projet capture un moment pr√©cis de mani√®re authentique. Je vais aller √† l\'essentiel, sans mise en sc√®ne excessive, pour garder la v√©rit√© et la sinc√©rit√© de l\'instant.'
              : currentLang === 'es'
              ? 'Este proyecto captura un momento preciso de manera aut√©ntica. Voy a ir a lo esencial, sin escenificaci√≥n excesiva, para mantener la verdad y la sinceridad del instante.'
              : 'This project captures a specific moment authentically. I\'ll get to the essentials, without excessive staging, to keep the truth and sincerity of the instant.';
          }
          
          // Interpr√©ter les intentions
          let intentText = '';
          if (state.intent.length > 0) {
            const intentMapFr = {
              notAI: 'montrer la r√©alit√© tangible - pr√©sence physique, mati√®res authentiques, lumi√®re naturelle',
              brand: 'cr√©er une coh√©rence visuelle parfaitement align√©e avec votre identit√© de marque',
              fresh: 'apporter un regard artistique personnel, une signature reconnaissable qui sort du conventionnel',
              trust: 'inspirer la confiance par des images cr√©dibles, humaines et justes, sans artifice publicitaire'
            };
            const intentMapEn = {
              notAI: 'show tangible reality - physical presence, authentic materials, natural light',
              brand: 'create visual coherence perfectly aligned with your brand identity',
              fresh: 'bring a personal artistic eye, a recognizable signature that breaks from convention',
              trust: 'inspire trust through credible, human, honest images, without advertising artifice'
            };
            const intentMapEs = {
              notAI: 'mostrar la realidad tangible - presencia f√≠sica, materias aut√©nticas, luz natural',
              brand: 'crear una coherencia visual perfectamente alineada con su identidad de marca',
              fresh: 'aportar una mirada art√≠stica personal, una firma reconocible que sale de lo convencional',
              trust: 'inspirar confianza a trav√©s de im√°genes cre√≠bles, humanas y justas, sin artificio publicitario'
            };
            const intentMap = currentLang === 'fr' ? intentMapFr : currentLang === 'es' ? intentMapEs : intentMapEn;
            const priorityLabel = currentLang === 'fr' ? 'Les priorit√©s : ' : currentLang === 'es' ? 'Las prioridades: ' : 'Priorities: ';
            intentText = priorityLabel + state.intent.map(i => intentMap[i]).join(currentLang === 'es' ? ' ; ' : ' ; ') + '.';
          }
          
          // Interpr√©ter l'approche photographique bas√©e sur les sliders
          const approachTitle = currentLang === 'fr' ? 'Mon approche photographique' : currentLang === 'es' ? 'Mi enfoque fotogr√°fico' : 'My photographic approach';
          let approachText = `<h3>üì∏ ${approachTitle}</h3>`;
          
          // √ânergie
          if (state.sliders.calm < 35) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>√ânergie calme :</strong> Images contemplatives et pos√©es. Je privil√©gie les moments de pause, la lumi√®re douce, les compositions √©quilibr√©es. Temps de pause pour capturer la s√©r√©nit√©.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Energ√≠a tranquila:</strong> Im√°genes contemplativas y serenas. Privilegio los momentos de pausa, la luz suave, las composiciones equilibradas. Tiempo de pausa para capturar la serenidad.</p>';
            } else {
              approachText += '<p><strong>Calm energy:</strong> Contemplative, still images. I favor moments of pause, soft light, balanced compositions. Time to capture serenity.</p>';
            }
          } else if (state.sliders.calm > 65) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>√ânergie vivante :</strong> Images dynamiques avec du mouvement. Je capture l\'action, l\'√©nergie du moment, les transitions. Shooting plus spontan√© et r√©actif.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Energ√≠a viva:</strong> Im√°genes din√°micas con movimiento. Capturo la acci√≥n, la energ√≠a del momento, las transiciones. Sesi√≥n m√°s espont√°nea y reactiva.</p>';
            } else {
              approachText += '<p><strong>Lively energy:</strong> Dynamic images with movement. I capture action, the energy of the moment, transitions. More spontaneous and reactive shooting.</p>';
            }
          } else {
            if (currentLang === 'fr') {
              approachText += '<p><strong>√ânergie √©quilibr√©e :</strong> Mix de moments calmes et vivants. J\'alterne entre contemplation et dynamisme selon les sc√®nes pour cr√©er un rythme visuel int√©ressant.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Energ√≠a equilibrada:</strong> Mezcla de momentos tranquilos y vivos. Alterno entre contemplaci√≥n y dinamismo seg√∫n las escenas para crear un ritmo visual interesante.</p>';
            } else {
              approachText += '<p><strong>Balanced energy:</strong> Mix of calm and lively moments. I alternate between contemplation and dynamism depending on scenes to create interesting visual rhythm.</p>';
            }
          }
          
          // Proximit√©
          if (state.sliders.present < 35) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Distance observatrice :</strong> Je prends du recul pour montrer le contexte large. Photos qui situent, qui donnent une vue d\'ensemble, qui racontent l\'environnement global.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Distancia observadora:</strong> Tomo distancia para mostrar el contexto amplio. Fotos que sit√∫an, que dan una visi√≥n general, que cuentan el ambiente global.</p>';
            } else {
              approachText += '<p><strong>Observer distance:</strong> I step back to show broad context. Photos that situate, give an overview, tell the overall environment.</p>';
            }
          } else if (state.sliders.present > 65) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Proximit√© intime :</strong> Je me rapproche pour capturer les d√©tails, les textures, les expressions. Photos qui cr√©ent de la connexion √©motionnelle et r√©v√®lent les petites choses.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Proximidad √≠ntima:</strong> Me acerco para capturar los detalles, las texturas, las expresiones. Fotos que crean conexi√≥n emocional y revelan las peque√±as cosas.</p>';
            } else {
              approachText += '<p><strong>Intimate proximity:</strong> I get close to capture details, textures, expressions. Photos that create emotional connection and reveal the small things.</p>';
            }
          } else {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Distance modul√©e :</strong> Je varie entre plans larges et gros plans pour cr√©er une respiration visuelle. Contexte ET d√©tails pour une narration compl√®te.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Distancia modulada:</strong> Var√≠a entre planos amplios y primeros planos para crear una respiraci√≥n visual. Contexto Y detalles para una narraci√≥n completa.</p>';
            } else {
              approachText += '<p><strong>Modulated distance:</strong> I vary between wide shots and close-ups to create visual breathing. Context AND details for complete storytelling.</p>';
            }
          }
          
          // Richesse
          if (state.sliders.rich < 35) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Esth√©tique √©pur√©e :</strong> Compositions minimalistes, espaces n√©gatifs, simplicit√©. Je privil√©gie ce qui est essentiel, sans distraction visuelle.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Est√©tica depurada:</strong> Composiciones minimalistas, espacios negativos, simplicidad. Privilegio lo esencial, sin distracci√≥n visual.</p>';
            } else {
              approachText += '<p><strong>Clean aesthetic:</strong> Minimalist compositions, negative space, simplicity. I favor what\'s essential, without visual distraction.</p>';
            }
          } else if (state.sliders.rich > 65) {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Esth√©tique riche :</strong> Je mets en valeur les textures, les mati√®res, les d√©tails architecturaux ou naturels. Photos qui invitent √† explorer visuellement.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Est√©tica rica:</strong> Pongo en valor las texturas, las materias, los detalles arquitect√≥nicos o naturales. Fotos que invitan a explorar visualmente.</p>';
            } else {
              approachText += '<p><strong>Rich aesthetic:</strong> I highlight textures, materials, architectural or natural details. Photos that invite visual exploration.</p>';
            }
          } else {
            if (currentLang === 'fr') {
              approachText += '<p><strong>Esth√©tique √©quilibr√©e :</strong> Entre simplicit√© et richesse, je trouve le juste milieu. Assez de d√©tails pour √™tre int√©ressant, assez d\'espace pour respirer.</p>';
            } else if (currentLang === 'es') {
              approachText += '<p><strong>Est√©tica equilibrada:</strong> Entre simplicidad y riqueza, encuentro el punto medio. Suficientes detalles para ser interesante, suficiente espacio para respirar.</p>';
            } else {
              approachText += '<p><strong>Balanced aesthetic:</strong> Between simplicity and richness, I find the sweet spot. Enough detail to be interesting, enough space to breathe.</p>';
            }
          }
          
          // Interpr√©ter l'usage
          const deliverablesTitle = currentLang === 'fr' ? 'Livrables et diffusion' : currentLang === 'es' ? 'Entregables y difusi√≥n' : 'Deliverables and distribution';
          let usageText = `<h3>üì¶ ${deliverablesTitle}</h3>`;
          
          if (state.time === 'moment') {
            if (currentLang === 'fr') {
              usageText += '<p><strong>Usage ponctuel :</strong> S√©rie concentr√©e pour un moment pr√©cis (lancement, campagne, √©v√©nement). Impact imm√©diat. Format optimis√© pour une diffusion cibl√©e et rapide.</p>';
            } else if (currentLang === 'es') {
              usageText += '<p><strong>Uso puntual:</strong> Serie concentrada para un momento preciso (lanzamiento, campa√±a, evento). Impacto inmediato. Formato optimizado para una difusi√≥n dirigida y r√°pida.</p>';
            } else {
              usageText += '<p><strong>One-time use:</strong> Focused series for a specific moment (launch, campaign, event). Immediate impact. Format optimized for targeted, rapid distribution.</p>';
            }
          } else if (state.time === 'overtime') {
            if (currentLang === 'fr') {
              usageText += '<p><strong>Base r√©utilisable :</strong> Banque d\'images polyvalente qui durera dans le temps. Formats vari√©s pour permettre diff√©rentes d√©clinaisons. Coh√©rence visuelle pour usage multiple.</p>';
            } else if (currentLang === 'es') {
              usageText += '<p><strong>Base reutilizable:</strong> Banco de im√°genes vers√°til que durar√° en el tiempo. Formatos variados para permitir diferentes versiones. Coherencia visual para uso m√∫ltiple.</p>';
            } else {
              usageText += '<p><strong>Reusable base:</strong> Versatile image bank that will last over time. Varied formats to allow different adaptations. Visual coherence for multiple uses.</p>';
            }
          } else if (state.time === 'grow') {
            if (currentLang === 'fr') {
              usageText += '<p><strong>S√©rie √©volutive :</strong> Premier shooting qui pose les bases d\'un suivi r√©gulier. On construit une narration qui se d√©veloppe avec le temps. Coh√©rence entre les sessions.</p>';
            } else if (currentLang === 'es') {
              usageText += '<p><strong>Serie evolutiva:</strong> Primera sesi√≥n que establece las bases de un seguimiento regular. Construimos una narraci√≥n que se desarrolla con el tiempo. Coherencia entre las sesiones.</p>';
            } else {
              usageText += '<p><strong>Evolving series:</strong> First shoot that lays the groundwork for regular follow-up. We build a narrative that develops over time. Coherence between sessions.</p>';
            }
          }
          
          // Canaux de diffusion
          if (state.where.length > 0) {
            const channelMapFr = {
              website: 'Site web (formats haute r√©solution, lecture pos√©e)',
              social: 'R√©seaux sociaux (formats carr√©s/verticaux, s√©rie coh√©rente)',
              editorial: 'Presse/editorial (contexte narratif, l√©gendes d√©taill√©es)',
              print: 'Print (haute d√©finition, couleurs calibr√©es)'
            };
            const channelMapEn = {
              website: 'Website (high resolution formats, calm reading)',
              social: 'Social media (square/vertical formats, coherent series)',
              editorial: 'Editorial/press (narrative context, detailed captions)',
              print: 'Print (high definition, calibrated colors)'
            };
            const channelMapEs = {
              website: 'Sitio web (formatos alta resoluci√≥n, lectura pausada)',
              social: 'Redes sociales (formatos cuadrados/verticales, serie coherente)',
              editorial: 'Editorial/prensa (contexto narrativo, pies detallados)',
              print: 'Impresi√≥n (alta definici√≥n, colores calibrados)'
            };
            const channelMap = currentLang === 'fr' ? channelMapFr : currentLang === 'es' ? channelMapEs : channelMapEn;
            const channelLabel = currentLang === 'fr' ? 'Canaux principaux :' : currentLang === 'es' ? 'Canales principales:' : 'Main channels:';
            usageText += `<p><strong>${channelLabel}</strong> ${state.where.map(w => channelMap[w]).join(' + ')}.</p>`;
          }
          
          // Quantit√© sugg√©r√©e
          let quantity = '';
          if (state.time === 'moment') {
            quantity = state.where.includes('social') ? '30-50' : '15-25';
          } else if (state.time === 'overtime') {
            quantity = '50-80';
          } else {
            quantity = currentLang === 'fr' ? '20-40 par session' : currentLang === 'es' ? '20-40 por sesi√≥n' : '20-40 per session';
          }
          const volumeLabel = currentLang === 'fr' ? 'Volume sugg√©r√© :' : currentLang === 'es' ? 'Volumen sugerido:' : 'Suggested volume:';
          const imagesLabel = currentLang === 'fr' ? 'images finales s√©lectionn√©es et retouch√©es' : currentLang === 'es' ? 'im√°genes finales seleccionadas y retocadas' : 'final selected and retouched images';
          usageText += `<p><strong>${volumeLabel}</strong> ${quantity} ${imagesLabel}.</p>`;
          
          // Ce qu'il faut √©viter
          let avoidText = '';
          if (state.avoid) {
            const avoidLabel = currentLang === 'fr' ? '√Ä √©viter absolument :' : currentLang === 'es' ? 'A evitar absolutamente:' : 'Absolutely avoid:';
            avoidText = `<p><strong>‚ö†Ô∏è ${avoidLabel}</strong> ${state.avoid}</p>`;
          }
          
          // Prochaines √©tapes
          const nextStepsTitle = currentLang === 'fr' ? 'Prochaines √©tapes' : currentLang === 'es' ? 'Pr√≥ximos pasos' : 'Next steps';
          let nextStepsText = `<h3>‚ú® ${nextStepsTitle}</h3>`;
          
          if (currentLang === 'fr') {
            nextStepsText += `
              <p><strong>1. Discussion :</strong> On √©change sur les d√©tails pratiques (dates, lieux, contraintes, budget).</p>
              <p><strong>2. Pr√©paration :</strong> Je pr√©pare un moodboard visuel et une shot list pour qu'on soit align√©s sur le rendu.</p>
              <p><strong>3. Shooting :</strong> Session photo avec les directions d√©finies ensemble.</p>
              <p><strong>4. Livraison :</strong> S√©lection, retouches, et livraison des fichiers dans les formats adapt√©s √† vos canaux.</p>
            `;
          } else if (currentLang === 'es') {
            nextStepsText += `
              <p><strong>1. Discusi√≥n:</strong> Intercambiamos sobre los detalles pr√°cticos (fechas, lugares, restricciones, presupuesto).</p>
              <p><strong>2. Preparaci√≥n:</strong> Preparo un moodboard visual y una lista de tomas para estar alineados sobre el resultado.</p>
              <p><strong>3. Sesi√≥n:</strong> Sesi√≥n fotogr√°fica con las direcciones definidas juntos.</p>
              <p><strong>4. Entrega:</strong> Selecci√≥n, retoques, y entrega de los archivos en los formatos adaptados a sus canales.</p>
            `;
          } else {
            nextStepsText += `
              <p><strong>1. Discussion:</strong> We discuss practical details (dates, locations, constraints, budget).</p>
              <p><strong>2. Preparation:</strong> I prepare a visual moodboard and shot list so we're aligned on the outcome.</p>
              <p><strong>3. Shoot:</strong> Photo session with directions defined together.</p>
              <p><strong>4. Delivery:</strong> Selection, retouching, and file delivery in formats adapted to your channels.</p>
            `;
          }
          
          // Texte final personnalis√©
          let closingText = '';
          if (currentLang === 'fr') {
            closingText = '<strong>Mon r√¥le :</strong> Traduire votre vision en images justes ‚Äî avec ma signature, pas en mode cam√©l√©on. Ce brief nous donne une base solide pour cr√©er quelque chose qui vous ressemble vraiment.';
          } else if (currentLang === 'es') {
            closingText = '<strong>Mi rol:</strong> Traducir su visi√≥n en im√°genes honestas ‚Äî con mi firma, no en modo camale√≥n. Este brief nos da una base s√≥lida para crear algo que realmente se le parezca.';
          } else {
            closingText = '<strong>My role:</strong> Translate your vision into honest images ‚Äî with my signature, not in chameleon mode. This brief gives us a solid foundation to create something that truly reflects you.';
          }
          
          const projectTitle = currentLang === 'fr' ? 'Lecture du projet' : currentLang === 'es' ? 'Lectura del proyecto' : 'Project reading';
          
          return `
            <div class="report-section">
              <h2>üéØ ${projectTitle}</h2>
              <p><strong>"${projectName}"</strong>${state.name ? ' ‚Äî ' + state.name : ''}</p>
              <p>${projectTypeText}</p>
              ${intentText ? '<p>' + intentText + '</p>' : ''}
            </div>
            
            <div class="report-section">
              ${approachText}
              ${avoidText}
            </div>
            
            <div class="report-section">
              ${usageText}
            </div>
            
            <div class="report-section">
              ${nextStepsText}
            </div>
            
            <div class="report-section" style="background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.25);">
              <p style="font-size: 15px; color: rgba(255,255,255,0.75); margin: 0;">
                ${closingText}
              </p>
            </div>
          `;
        };
        
        const greetingText = currentLang === 'fr' 
          ? (state.name ? 'Bonjour ' + state.name + ' ‚Äî ' : '') + 'Voici votre brief photographique personnalis√©.'
          : currentLang === 'es'
          ? (state.name ? 'Hola ' + state.name + ' ‚Äî ' : '') + 'Aqu√≠ est√° su brief fotogr√°fico personalizado.'
          : (state.name ? 'Hello ' + state.name + ' ‚Äî ' : '') + 'Here is your personalized photo brief.';
        
        const emailSubject = currentLang === 'fr' ? 'Brief projet' : currentLang === 'es' ? 'Brief proyecto' : 'Project brief';
        const emailBody = currentLang === 'fr'
          ? 'Bonjour Marina,\\n\\nJe viens de compl√©ter le brief pour mon projet : ' + (state.project || 'mon projet photo') + '\\n\\nPouvons-nous en discuter ?\\n\\nCordialement,\\n' + (state.name || '')
          : currentLang === 'es'
          ? 'Hola Marina,\\n\\nAcabo de completar el brief para mi proyecto: ' + (state.project || 'mi proyecto fotogr√°fico') + '\\n\\n¬øPodemos discutirlo?\\n\\nSaludos,\\n' + (state.name || '')
          : 'Hello Marina,\\n\\nI just completed the brief for my project: ' + (state.project || 'my photo project') + '\\n\\nCan we discuss it?\\n\\nBest regards,\\n' + (state.name || '');
        
        html = `
          <div class="kicker">${t('report.kicker')}</div>
          <h1>${state.project || t('report.title')}</h1>
          <p class="lead">${greetingText}</p>
          
          <div id="ai-report">
            ${generateSmartReport()}
          </div>
          
          <div class="buttons" style="margin-top: 30px;">
            <button class="primary" onclick="window.location.href='mailto:hello@marinaphoto.es?subject=${encodeURIComponent(emailSubject + ' ' + (state.project || 'photo'))}&body=${encodeURIComponent(emailBody)}'">
              ${t('report.buttons.email')}
            </button>
            <button class="secondary" onclick="window.print()">üìÑ ${currentLang === 'fr' ? 'Imprimer' : currentLang === 'es' ? 'Imprimir' : 'Print'}</button>
            <button class="secondary" onclick="currentStep = 0; state = {name: '', project: '', core: null, intent: [], time: null, where: [], avoid: '', sliders: { calm: 50, present: 50, rich: 50 }}; render();">
              ${t('report.buttons.restart')}
            </button>
          </div>
        `;
        break;
    }
    
    content.innerHTML = html;
    content.classList.add('fade-in');
  }, 50);
}

// Initialize
console.log('App initializing...');
render();
console.log('App initialized!');
</script>

</body>
</html>
