<!doctype html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MARINA — Vision Board</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root{
            --bg:#0b0c0e;
            --card:rgba(255,255,255,.05);
            --line:rgba(255,255,255,.12);
            --txt:rgba(255,255,255,.95);
            --muted:rgba(255,255,255,.5);
            --accent:#ffffff;
            --radius:24px;
            --shadow:0 25px 80px rgba(0,0,0,.6);
        }
        *{box-sizing:border-box; transition: all 0.3s ease;}
        body{
            margin:0;
            font-family:'Inter',-apple-system,system-ui,sans-serif;
            background:var(--bg);
            color:var(--txt);
            overflow-x: hidden;
        }
        .wrap{
            min-height:100vh;
            display:flex;
            justify-content:center;
            align-items:center;
            padding:20px;
        }
        .card{
            width:min(700px,100%);
            background:linear-gradient(165deg, var(--card), rgba(255,255,255,0.01));
            border:1px solid var(--line);
            border-radius:var(--radius);
            box-shadow:var(--shadow);
            padding:40px;
            backdrop-filter: blur(10px);
        }
        .top{ display:flex; justify-content:space-between; margin-bottom:30px; }
        .lang button{
            background:none; border:none; color:var(--muted);
            font-weight:600; cursor:pointer; padding:5px 10px;
        }
        .lang button.active{ color:var(--accent); text-decoration: underline; }
        h1{ font-size:36px; font-weight:700; letter-spacing:-1px; margin:0 0 15px; }
        h2{ font-size:18px; color:var(--muted); margin-bottom:25px; font-weight:400; line-height:1.6; }
        p.narrative{ font-size:20px; line-height:1.6; margin-bottom:30px; }
        
        input[type=text]{
            width:100%; padding:18px; border-radius:15px; border:1px solid var(--line);
            background:rgba(255,255,255,.03); color:var(--txt); font-size:18px;
        }
        input[type=text]:focus{ outline:none; border-color:var(--accent); background:rgba(255,255,255,.07); }

        .choices, .checks{ display:grid; gap:12px; margin:20px 0; }
        .choice, .check{
            border:1px solid var(--line); border-radius:16px; padding:18px;
            cursor:pointer; background:rgba(255,255,255,.02);
        }
        .choice:hover, .check:hover{ background:rgba(255,255,255,.08); border-color:var(--muted); }
        .sel{ background:rgba(255,255,255,.12) !important; border-color:var(--accent) !important; }

        .slider-group{ margin:30px 0; }
        .slider-label{ display:flex; justify-content:space-between; font-size:13px; color:var(--muted); margin-bottom:10px; text-transform:uppercase; letter-spacing:1px; }
        .slider-desc{ font-size:12px; color:rgba(255,255,255,0.3); margin-top:5px; }
        input[type=range]{ width:100%; cursor:pointer; accent-color: var(--accent); }

        button.primary{
            background:var(--accent); color:#000; border:none; padding:16px 32px;
            border-radius:999px; font-weight:700; cursor:pointer; font-size:16px;
        }
        button.primary:hover{ transform:scale(1.05); box-shadow:0 10px 20px rgba(255,255,255,0.1); }
        
        .fade{ animation: fadeIn 0.5s ease forwards; }
        @keyframes fadeIn{ from{opacity:0; transform:translateY(10px)} to{opacity:1; transform:translateY(0)} }
        
        canvas{ max-width: 100%; margin: 20px 0; }
    </style>
</head>
<body>

<div class="wrap">
    <div class="card fade">
        <div class="top">
            <div style="font-weight:900; letter-spacing:2px;">MARINA</div>
            <div class="lang">
                <button onclick="setLang('en')" id="en">EN</button>
                <button onclick="setLang('fr')" id="fr">FR</button>
            </div>
        </div>
        <div id="app"></div>
    </div>
</div>

<script>
const t = {
    en: {
        intro_h1: "Your project has a soul.",
        intro_p: "Even if it's not fully defined yet, let's capture its essence together.",
        start: "Begin the Journey",
        name_h1: "Who are you?",
        project_h1: "Project Name",
        core_h1: "The heart of this project is...",
        intent_h1: "What should people feel?",
        sliders_h1: "Define the atmosphere",
        labels: ["Vibe", "Presence", "Texture"],
        hints: ["Calm vs Lively", "Discreet vs Bold", "Simple vs Rich"],
        report_h1: "Project Snapshot",
        report_h2: "A photographic vision",
        cta: "Let's bring this to life",
        loading: "Generating your vision..."
    },
    fr: {
        intro_h1: "Chaque projet a une âme.",
        intro_p: "Même si elle est encore floue, prenons un instant pour capturer son essence.",
        start: "Commencer l'expérience",
        name_h1: "Comment vous appelez-vous ?",
        project_h1: "Quel est le nom du projet ?",
        core_h1: "Au fond, ce projet est...",
        intent_h1: "Quelle émotion doit rester ?",
        sliders_h1: "Ajustez l'atmosphère",
        labels: ["Énergie", "Présence", "Détails"],
        hints: ["Calme vs Vivant", "Discret vs Affirmé", "Épuré vs Riche"],
        report_h1: "Lecture du Projet",
        report_h2: "Une vision photographique",
        cta: "Donner vie à ce projet",
        loading: "Analyse de votre vision..."
    }
};

let lang = "fr";
let step = 0;
const state = {
    name: "",
    project: "",
    core: "",
    intent: [],
    sliders: { calm: 50, present: 50, rich: 50 }
};

function setLang(l) {
    lang = l;
    document.querySelectorAll(".lang button").forEach(b => b.classList.remove("active"));
    document.getElementById(l).classList.add("active");
    render();
}

function next() { step++; render(); }

function toggleIntent(o) {
    if (state.intent.includes(o)) state.intent = state.intent.filter(x => x !== o);
    else if (state.intent.length < 2) state.intent.push(o);
    render();
}

function render() {
    const a = document.getElementById("app");
    const tr = t[lang];
    a.className = "fade";
    
    if (step === 0) {
        a.innerHTML = `<h1>${tr.intro_h1}</h1><p>${tr.intro_p}</p>
        <button class="primary" onclick="next()">${tr.start}</button>`;
    } else if (step === 1) {
        a.innerHTML = `<h1>${tr.name_h1}</h1><input type="text" onchange="state.name=this.value" placeholder="...">
        <div class="btns" style="margin-top:20px"><button class="primary" onclick="next()">→</button></div>`;
    } else if (step === 2) {
        a.innerHTML = `<h1>${tr.project_h1}</h1><input type="text" onchange="state.project=this.value" placeholder="...">
        <div class="btns" style="margin-top:20px"><button class="primary" onclick="next()">→</button></div>`;
    } else if (step === 3) {
        const opts = lang === 'fr' ? ["Un lieu à ressentir", "Une histoire à raconter", "Un moment à graver"] : ["A place to feel", "A story to tell", "A moment to remember"];
        a.innerHTML = `<h1>${tr.core_h1}</h1><div class="choices">
        ${opts.map(o => `<div class="choice ${state.core === o ? "sel" : ""}" onclick="state.core='${o}';next();">${o}</div>`).join("")}
        </div>`;
    } else if (step === 4) {
        const opts = lang === 'fr' ? ["Sensation naturelle", "Atmosphère forte", "Vérité brute", "Élégance discrète"] : ["Natural feeling", "Strong atmosphere", "Raw truth", "Quiet elegance"];
        a.innerHTML = `<h1>${tr.intent_h1}</h1><div class="checks">
        ${opts.map(o => `<div class="check ${state.intent.includes(o) ? "sel" : ""}" onclick="toggleIntent('${o}')">${o}</div>`).join("")}
        </div><button class="primary" onclick="next()">Continuer</button>`;
    } else if (step === 5) {
        a.innerHTML = `<h1>${tr.sliders_h1}</h1>
        ${renderSlider(tr.labels[0], tr.hints[0], 'calm')}
        ${renderSlider(tr.labels[1], tr.hints[1], 'present')}
        ${renderSlider(tr.labels[2], tr.hints[2], 'rich')}
        <button class="primary" onclick="next()" style="margin-top:20px">Générer le rapport</button>`;
    } else if (step === 6) {
        renderReport();
    }
}

function renderSlider(label, hint, key) {
    return `<div class="slider-group">
        <div class="slider-label"><span>${label}</span></div>
        <input type="range" min="0" max="100" value="${state.sliders[key]}" oninput="state.sliders['${key}']=this.value">
        <div class="slider-desc">${hint}</div>
    </div>`;
}

function renderReport() {
    const a = document.getElementById("app");
    const tr = t[lang];
    
    const narrative = lang === 'fr' 
        ? `Cher ${state.name}, votre projet <strong>${state.project}</strong> se dessine comme <em>${state.core.toLowerCase()}</em>. Vous cherchez à capturer une <em>${state.intent.join(" et ").toLowerCase()}</em>.`
        : `Dear ${state.name}, your project <strong>${state.project}</strong> is envisioned as <em>${state.core.toLowerCase()}</em>, with a focus on <em>${state.intent.join(" and ").toLowerCase()}</em>.`;

    a.innerHTML = `
        <h1>${tr.report_h1}</h1>
        <h2>${tr.report_h2}</h2>
        <p class="narrative">${narrative}</p>
        <canvas id="radarChart"></canvas>
        <p style="color:var(--muted); font-size:14px; margin: 20px 0;">Ce profil suggère des images à haute valeur émotionnelle, privilégiant l'authenticité à la mise en scène.</p>
        <button class="primary" onclick="window.location.href='mailto:contact@votre-email.ch?subject=Projet MARINA - ${state.project}'">${tr.cta}</button>
    `;

    const ctx = document.getElementById('radarChart').getContext('2d');
    new Chart(ctx, {
        type: 'radar',
        data: {
            labels: tr.labels,
            datasets: [{
                label: 'Vision',
                data: [state.sliders.calm, state.sliders.present, state.sliders.rich],
                backgroundColor: 'rgba(255, 255, 255, 0.2)',
                borderColor: '#ffffff',
                borderWidth: 2,
                pointBackgroundColor: '#ffffff'
            }]
        },
        options: {
            scales: {
                r: {
                    angleLines: { color: 'rgba(255,255,255,0.1)' },
                    grid: { color: 'rgba(255,255,255,0.1)' },
                    pointLabels: { color: '#fff', font: { size: 12 } },
                    ticks: { display: false },
                    suggestedMin: 0, suggestedMax: 100
                }
            },
            plugins: { legend: { display: false } }
        }
    });
}

setLang('fr');
</script>

</body>
</html>
